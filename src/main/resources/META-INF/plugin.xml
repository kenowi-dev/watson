<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>dev.kenowi.watson</id>
    <name>Watson</name>
    <vendor>kenowi-dev</vendor>


    <depends>JavaScript</depends>
    <depends>dev.blachut.svelte.lang</depends>
    <depends>JavaScript</depends>
    <depends>NodeJS</depends>
    <depends>com.intellij.modules.platform</depends>

    <resource-bundle>messages.WatsonMessageBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">

        <projectConfigurable
                parentId="tools"
                instance="dev.kenowi.watson.settings.SettingConfigurable"
                id="dev.kenowi.watson.settings.SettingConfigurable"
                key="name"/>

        <intentionAction>
            <categoryKey>intention.category</categoryKey>
            <language><!--Language is handle programmatically, since multiple language tags are not supported--></language>
            <!--
            <language>SvelteHTML</language>
            <language>SvelteJS</language>
            <language>SvelteTS</language>
            <language>HTML</language>
            <language>XML</language>
            <language>JavaScript</language>
            <language>TypeScript</language>
            <language>ECMAScript 6</language>
            <language>ECMA Script Level 4</language>
            -->
            <className>dev.kenowi.watson.intention.ExtractInlangMessageIntention</className>
        </intentionAction>


        <codeInsight.declarativeInlayProvider group="VALUES_GROUP"
                                              implementationClass="dev.kenowi.watson.inlays.ParaglideInlayHints"
                                              isEnabledByDefault="true"
                                              language="SvelteHTML"
                                              nameKey="inlay.name"
                                              providerId="dev.kenowi.watson.inlays.ParaglideInlayHints"/>
        <codeInsight.declarativeInlayProvider group="VALUES_GROUP"
                                              implementationClass="dev.kenowi.watson.inlays.ParaglideInlayHints"
                                              isEnabledByDefault="true"
                                              language="TypeScript"
                                              nameKey="inlay.name"
                                              providerId="dev.kenowi.watson.inlays.ParaglideInlayHints"/>
        <codeInsight.declarativeInlayProvider group="VALUES_GROUP"
                                              implementationClass="dev.kenowi.watson.inlays.ParaglideInlayHints"
                                              isEnabledByDefault="true"
                                              language="JavaScript"
                                              nameKey="inlay.name"
                                              providerId="dev.kenowi.watson.inlays.ParaglideInlayHints"/>

        <lang.foldingBuilder
                language="JavaScript"
                implementationClass="dev.kenowi.watson.inlays.ParaglideFoldingBuilder"/>
        <lang.foldingBuilder
                language="TypeScript"
                implementationClass="dev.kenowi.watson.inlays.ParaglideFoldingBuilder"/>
        <lang.foldingBuilder
                language="SvelteHTML"
                implementationClass="dev.kenowi.watson.inlays.ParaglideFoldingBuilder"/>

        <notificationGroup id="Watson Notifications"
                           displayType="BALLOON"
                           isLogByDefault="false"
                           key="notification.group"/>

        <codeInsight.lineMarkerProvider
                language="JSON"
                implementationClass="dev.kenowi.watson.navigation.linemarkers.JsonKeyLineMarkerProvider"/>

        <codeInsight.lineMarkerProvider
                language="JavaScript"
                implementationClass="dev.kenowi.watson.navigation.linemarkers.MessageMethodLineMarkerProvider"/>

        <psi.referenceContributor
                language="JSON"
                implementation="dev.kenowi.watson.navigation.references.JsonKeyReferenceContributor"/>

        <localInspection language="JSON"
                         shortName="UnusedJsonKey"
                         displayName="Unused JSON Key"
                         groupName="Watson Inspections"
                         enabledByDefault="true"
                         level="WEAK_WARNING"
                         implementationClass="dev.kenowi.watson.navigation.inspections.UnusedJsonKeyInspection"/>

        <!-- OLD -->
        <toolWindow factoryClass="dev.kenowi.watson.toolWindow.MyToolWindowFactory" id="MyToolWindow"/>
        <postStartupActivity implementation="dev.kenowi.watson.listeners.StartupPopup" />

        <!--

        -->



    </extensions>
</idea-plugin>
