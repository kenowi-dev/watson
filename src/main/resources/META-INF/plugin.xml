<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>dev.kenowi.watson</id>
    <name>Watson for Paraglide</name>
    <vendor>kenowi-dev</vendor>


    <depends>JavaScript</depends>
    <depends>dev.blachut.svelte.lang</depends>
    <depends>NodeJS</depends>
    <depends>com.intellij.modules.platform</depends>

    <resource-bundle>messages.WatsonMessageBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">

        <projectConfigurable
                parentId="tools"
                instance="dev.kenowi.watson.settings.WatsonSettingsConfigurable"
                id="dev.kenowi.watson.settings.WatsonSettingsConfigurable"
                key="name"/>

        <intentionAction>
            <categoryKey>intention.category</categoryKey>
            <language><!--Language is handle programmatically, since multiple language tags are not supported--></language>
            <!--
            <language>SvelteHTML</language>
            <language>SvelteJS</language>
            <language>SvelteTS</language>
            <language>HTML</language>
            <language>XML</language>
            <language>JavaScript</language>
            <language>TypeScript</language>
            <language>ECMAScript 6</language>
            <language>ECMA Script Level 4</language>
            -->
            <className>dev.kenowi.watson.intention.ExtractParaglideMessageIntention</className>
        </intentionAction>


        <codeInsight.declarativeInlayProvider group="VALUES_GROUP"
                                              implementationClass="dev.kenowi.watson.inlays.ParaglideMessageInlayHints"
                                              isEnabledByDefault="true"
                                              language="SvelteHTML"
                                              nameKey="inlay.name"
                                              providerId="dev.kenowi.watson.inlays.ParaglideMessageInlayHints"/>
        <codeInsight.declarativeInlayProvider group="VALUES_GROUP"
                                              implementationClass="dev.kenowi.watson.inlays.ParaglideMessageInlayHints"
                                              isEnabledByDefault="true"
                                              language="TypeScript"
                                              nameKey="inlay.name"
                                              providerId="dev.kenowi.watson.inlays.ParaglideMessageInlayHints"/>
        <codeInsight.declarativeInlayProvider group="VALUES_GROUP"
                                              implementationClass="dev.kenowi.watson.inlays.ParaglideMessageInlayHints"
                                              isEnabledByDefault="true"
                                              language="JavaScript"
                                              nameKey="inlay.name"
                                              providerId="dev.kenowi.watson.inlays.ParaglideMessageInlayHints"/>

        <lang.foldingBuilder
                language="JavaScript"
                implementationClass="dev.kenowi.watson.inlays.ParaglideMessageFoldingBuilder"/>
        <lang.foldingBuilder
                language="TypeScript"
                implementationClass="dev.kenowi.watson.inlays.ParaglideMessageFoldingBuilder"/>
        <lang.foldingBuilder
                language="SvelteHTML"
                implementationClass="dev.kenowi.watson.inlays.ParaglideMessageFoldingBuilder"/>

        <codeInsight.lineMarkerProvider
                language="JSON"
                implementationClass="dev.kenowi.watson.navigation.linemarkers.ParaglideMessageKeyLineMarkerProvider"/>

        <codeInsight.lineMarkerProvider
                language="JavaScript"
                implementationClass="dev.kenowi.watson.navigation.linemarkers.ParaglideMessageMethodLineMarkerProvider"/>

        <psi.referenceContributor
                language="JSON"
                implementation="dev.kenowi.watson.navigation.references.ParaglideMessageKeyReferenceContributor"/>

        <localInspection language="JSON"
                         shortName="UnusedParaglideMessageInspection"
                         key="inspection.display.name"
                         groupKey="inspection.category"
                         enabledByDefault="true"
                         level="INFO"
                         implementationClass="dev.kenowi.watson.navigation.inspections.UnusedParaglideMessageInspection"/>

        <notificationGroup id="Watson Notifications"
                           displayType="BALLOON"
                           isLogByDefault="false"
                           key="notification.group"/>

        <!-- Dev Only -->
        <!--
        <toolWindow factoryClass="dev.kenowi.watson.dev.MyToolWindowFactory" id="MyToolWindow"/>
        <postStartupActivity implementation="dev.kenowi.watson.dev.StartupPopup" />
        -->

    </extensions>
</idea-plugin>
